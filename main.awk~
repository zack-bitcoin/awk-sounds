BEGIN{
    #make_notes()

    s0 = "e1,d#1,"
    s1 = "e1,d#1,e1,b1,d1,c1,a1,a-1,a1,e-1,a,c,e,a1,b1,e-1,g#-1,b1,e1,g#,b1,c1 a-1,c1 e-1,a,e,e1,d#1,e1,d#1,e1,b1,d1,c1,a1 a-1,a1 e-1,a,c,e,a1,b1 e-1,b1 g#-1,b,e,c1,b1,a1 a-1,a1 e-1,,e1,d#1,"
    s2 = "a1 a-1,a1 e-1,a,b1,c1,d1,e1 c-1,e1 g-1,c,g,f1,e1,d1 b-1,d1 g-1,b,f,e1,d1,c1 a-1,c1 e-1,a,d1,c1,b1 e-2,b1 e-1,e,e,e1,e,e1,e1,e2,d#1,e1,d1,e1,d#1,e1,d1,e1,d1"
    s = s0 s1 s1 s2
    play_all(s)
}

function play_all(s) {
    M = split(s, A, ",")
    for(i=1; i<=M; i++){
        N = split(A[i], B, " ")
        for(j=1; j<=N; j++){
            print("play " B[j])
            play(B[j])
        }
        system("sleep 0.5")
    }
}

function usused(){

    play("e1")
    system("sleep 0.5")
    play("d#1")
    system("sleep 0.5")
    for(i=1; i<=2; i++){
        play("e1")
        system("sleep 0.5")
        play("d#1")
        system("sleep 0.5")
        play("e1")
        system("sleep 0.5")
        play("b1")
        system("sleep 0.5")
        play("d1")
        system("sleep 0.5")
        play("c1")
        system("sleep 0.5")
        play("a1")
        play("a-1")
        system("sleep 0.5")
        play("a1")
        play("e-1")
        system("sleep 0.5")
        play("a")
        system("sleep 0.5")
        play("c")
        system("sleep 0.5")
        play("e")
        system("sleep 0.5")
        play("a1")
        system("sleep 0.5")
        play("b1")
        play("e-1")
        system("sleep 0.5")
        play("g#-1")
        system("sleep 0.5")
        play("b1")
        system("sleep 0.5")
        play("e1")
        system("sleep 0.5")
        play("g#")
        system("sleep 0.5")
        play("b1")
        system("sleep 0.5")
        play("c1")
        play("a-1")
        system("sleep 0.5")
        play("c1")
        play("e-1")
        system("sleep 0.5")
        play("a")
        system("sleep 0.5")
        play("e")
        system("sleep 0.5")
        play("e1")
        system("sleep 0.5")
        play("d#1")
        system("sleep 0.5")
        play("e1")
        system("sleep 0.5")
        play("d#1")
        system("sleep 0.5")
        play("e1")
        system("sleep 0.5")
        play("b1")
        system("sleep 0.5")
        play("d1")
        system("sleep 0.5")
        play("c1")
        system("sleep 0.5")
        play("a1")
        play("a-1")
        system("sleep 0.5")
        play("a1")
        play("e-1")
        system("sleep 0.5")
        play("a")
        system("sleep 0.5")
        play("c")
        system("sleep 0.5")
        play("e")
        system("sleep 0.5")
        play("a1")
        system("sleep 0.5")
        play("b1")
        play("e-1")
        system("sleep 0.5")
        play("b1")
        play("g#-1")
        system("sleep 0.5")
        play("b")
        system("sleep 0.5")
        play("e")
        system("sleep 0.5")
        play("c1")
        system("sleep 0.5")
        play("b1")
        system("sleep 0.5")
        play("a1")
        play("a-1")
        system("sleep 0.5")
        play("a1")
        play("e-1")
        system("sleep 0.5")
        system("sleep 0.5")
        play("e1")
        system("sleep 0.5")
        play("d#1")
        system("sleep 0.5")
    }
    play("a1")
    play("a-1")
    system("sleep 0.5")
    play("a1")
    play("e-1")
    system("sleep 0.5")
    play("a")
    system("sleep 0.5")
    play("b1")
    system("sleep 0.5")
    play("c1")
    system("sleep 0.5")
    play("d1")
    system("sleep 0.5")
    play("e1")
    play("c-1")
    system("sleep 0.5")
    play("e1")
    play("g-1")
    system("sleep 0.5")
    play("c")
    system("sleep 0.5")
    play("g")
    system("sleep 0.5")
    play("f1")
    system("sleep 0.5")
    play("e1")
    system("sleep 0.5")
    play("d1")
    play("b-1")
    system("sleep 0.5")
    play("d1")
    play("g-1")
    system("sleep 0.5")
    play("b")
    system("sleep 0.5")
    play("f")
    system("sleep 0.5")
    play("e1")
    system("sleep 0.5")
    play("d1")
    system("sleep 0.5")
    play("c1")
    play("a-1")
    system("sleep 0.5")
    play("c1")
    play("e-1")
    system("sleep 0.5")
    play("a")
    system("sleep 0.5")
    play("d1")
    system("sleep 0.5")
    play("c1")
    system("sleep 0.5")
    play("b1")
    play("e-2")
    system("sleep 0.5")
    play("b1")
    play("e-1")
    system("sleep 0.5")
    play("e")
    system("sleep 0.5")
    play("e")
    system("sleep 0.5")
    play("e1")
    system("sleep 0.5")
    play("e")
    system("sleep 0.5")
    play("e1")
    system("sleep 0.5")
    play("e1")
    system("sleep 0.5")
    play("e2")
    system("sleep 0.5")
    play("d#1")
    system("sleep 0.5")
    play("e1")
    system("sleep 0.5")
    play("d1")
    system("sleep 0.5")
    play("e1")
    system("sleep 0.5")
    play("d#1")
    system("sleep 0.5")
    play("e1")
    system("sleep 0.5")
    play("d1")
    system("sleep 0.5")
    play("e1")
    system("sleep 0.5")
    play("d1")
    system("sleep 0.5")
    
}
function make_notes(){
    make(note(-17), "0.5", "e-2")
    
    make(note(-12), "0.5", "a-1")
    make(note(-11), "0.5", "a#-1")
    make(note(-10), "0.5", "b-1")
    make(note(-9), "0.5", "c-1")
    make(note(-8), "0.5", "c#-1")
    make(note(-7), "0.5", "d-1")
    make(note(-6), "0.5", "d#-1")
    make(note(-5), "0.5", "e-1")
    make(note(-4), "0.5", "f-1")
    make(note(-3), "0.5", "f#-1")
    make(note(-2), "0.5", "g-1")
    make(note(-1), "0.5", "g#-1")
    make(note(0), "0.5", "a")
    make(note(1), "0.5", "a#")
    make(note(2), "0.5", "b")
    make(note(3), "0.5", "c")
    make(note(4), "0.5", "c#")
    make(note(5), "0.5", "d")
    make(note(6), "0.5", "d#")
    make(note(7), "0.5", "e")
    make(note(8), "0.5", "f")
    make(note(9), "0.5", "f#")
    make(note(10), "0.5", "g")
    make(note(11), "0.5", "g#")
    make(note(12), "0.5", "a1")
    make(note(13), "0.5", "a#1")
    make(note(14), "0.5", "b1")
    make(note(15), "0.5", "c1")
    make(note(16), "0.5", "c#1")
    make(note(17), "0.5", "d1")
    make(note(18), "0.5", "d#1")
    make(note(19), "0.5", "e1")
    make(note(20), "0.5", "f1")
    make(note(21), "0.5", "f#1")
    make(note(22), "0.5", "g1")
    make(note(23), "0.5", "g#1")

    make(note(31), "0.5", "e2")
}

function note(N,      A, S){
    A = 440
    S = 1.05946309436 #12th root of 2.
    return(A * (S ^ N))
}

function make(tone, duration, file){
    system("rm beep_" file ".wav")
    system("ffmpeg -loglevel quiet -f lavfi -i \"sine=frequency=" tone ":duration=" duration "\" beep_" file ".wav")
}
function play(file){
    print("play " file)
    system("aplay -q beep_" file ".wav &")
}
